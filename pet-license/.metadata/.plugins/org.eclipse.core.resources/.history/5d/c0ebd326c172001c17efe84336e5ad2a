package com.covid.mis;

import java.io.BufferedReader;
import java.io.DataOutputStream;
import java.io.IOException;
import java.io.InputStreamReader;
import java.io.OutputStream;
import java.net.HttpURLConnection;
import java.net.URL;
import java.net.URLConnection;
import java.net.URLEncoder;
import java.util.Date;

import javax.net.ssl.HttpsURLConnection;

public class SendSms {

	//for sms send after registration
		public static void sendSms(String message, String number)
		{
			//System.out.println(message);
			//System.out.println(number);
//			
//			try {	
//				String apiKey="0qrx6tgV8OThfji5BGaw4CM9NpXEyLdKokH27YIJFnRlDv3mUWXIyxGamjRVKsDQLM10PuwCvY36TU5p";
//				String sendId="TXTIND";
//				
//				//importent step...
//				message=URLEncoder.encode(message,"UTF-8");
//				String language="english";
//				String route="v3";
//				//String myUrl="https://www.fast2sms.com/dev/bulkV2?authorization="+apiKey+"&sender_id="+sendId+"&message="+message+"&route="+route+"&language="+language+"&numbers="+number;
//				String myUrl="https://smsgw.sms.gov.in/failsafe/HttpLink?username=msevapb.sms&pin=N6%26oG0%23xC3&signature=PBGOVT&mnumber=8283955388&message=Dearrrr%20123,%20Application%20for%20Pet%20License%20has%20been%20received-Pet%20Id%20is%20123%20.%20Thanks.&dlt_entity_id=1301157492438182299&dlt_template_id=1407163938742408568";
//				
//				//sending get request using java..
//				URL url=new URL(myUrl);
//				URLConnection conn = url.openConnection();
//
//				HttpsURLConnection con=(HttpsURLConnection)url.openConnection();
//				 
//
//				con.setRequestMethod("GET");
//				con.setRequestProperty("User-Agent", "Mozilla/5.0");
//				con.setRequestProperty("cache-control","no-cashe");
//				System.out.println("wait..............");
//				
//				int code = con.getResponseCode();
//				System.out.println("Response code" +code);
//				
//				StringBuffer response=new StringBuffer();
//				BufferedReader br=new BufferedReader(new InputStreamReader(con.getInputStream()));
//				
//				while(true) {
//					String line=br.readLine();
//					if(line==null) {
//						break;
//					}
//					response.append(line);
//				}
//				
//				System.out.println(response);
//				
//				
//			}
//			catch(Exception e) {
//				e.printStackTrace();
//			}
			try {
		     URL url = new URL("https://smsgw.sms.gov.in/failsafe/HttpLink?username=msevapb.sms&pin=N6%26oG0%23xC3&signature=PBGOVT&mnumber=8283955388&message=Dearrrr%20123,%20Application%20for%20Pet%20License%20has%20been%20received-Pet%20Id%20is%20123%20.%20Thanks.&dlt_entity_id=1301157492438182299&dlt_template_id=1407163938742408568");
		        HttpURLConnection httpURLConnection;
			
					httpURLConnection = (HttpURLConnection) url.openConnection();
					private static final String POST_PARAMS = "userName=Pankaj";
		        httpURLConnection.setRequestMethod("POST");
		        httpURLConnection.setRequestProperty("Accept-Language", "en-US,en;q=0.5");
		        httpURLConnection.setRequestProperty("User-Agent", "Mozilla/5.0");
		        httpURLConnection.setDoOutput(true);
		        OutputStream wr = httpURLConnection.getOutputStream();

		        String serializedMessage = "{}";
		        wr.write(serializedMessage);
		        wr.flush();
		        wr.close();

		        int responseCode = httpURLConnection.getResponseCode();
		        System.out.println(responseCode);
			}
			catch(Exception e)
			{
				e.printStackTrace();
			}
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		}
		
		
//		public static void main(String[] args) {
//			System.out.println("Program started......");
//			SendSms.sendSms("Thank you for the Registration...."+new Date().toLocaleString(),"6268698585");
//		}
}
